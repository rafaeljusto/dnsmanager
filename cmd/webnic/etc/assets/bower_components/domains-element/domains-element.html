<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../iron-list/iron-list.html">
<link rel="import" href="../iron-flex-layout/iron-flex-layout.html">
<link rel="import" href="../paper-styles/color.html">

<dom-module id="domains-element">

  <style>
    .domains {
      background-color: var(--google-grey-100, #f5f5f5);
    }

    iron-list {
      padding-bottom: 16px;
    }

    .item {
      @apply(--layout-horizontal);
      background-color: var(--google-yellow-50, #fffde7);
      border: 1px solid var(--google-grey-300, #e0e0e0);
      border-radius: 8px;
      cursor: pointer;
      margin: 16px 16px 0 16px;
      padding: 20px;
    }

    .item:hover {
      outline: 0;
      background-color: var(--google-yellow-200, #fff59d);
    }

    .item:active {
      transform: scale(.95);
    }

  </style>

  <template>
    <iron-ajax url="/domains" last-response="{{domains}}" auto></iron-ajax>

    <div class="domains">
      <iron-list items="[[domains]]" as="domain">
        <template>
          <div>
            <div class="item" on-click="select">[[domain.fqdn]]</div>
          </div>
        </template>
      </iron-list>
    </div>
  </template>

  <script>
    Polymer({
      is: "domains-element",

      properties: {
        selected: {
          type: Object,
          value: function() {
            return {
              fqdn: "",
              nameservers: [],
              dsset: []
            };
          }
        }
      },

      select: function(e) {
        this.set("selected", e.model.__data__.domain);
      }
    });
  </script>

</dom-module>